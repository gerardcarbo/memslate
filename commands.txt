#CORDOVA

npm update -g cordoba

ionic platform android -> adds android

ionic browser add crosswalk -> chromium browser replacement for webkit

cordova plugin add https://github.com/apache/cordova-plugin-whitelist.git -> allows $http calls


#GIT

git checkout -b <branch_name> : create a branch and checkout
git checkout master: change to master branch
git merge branch_name: merges 'branch_name' into master (checked out before). Use git rebase instead!
git commit -a: commits all changes to local repository
git commit --amend --all --no-edit: redo last commit
git reset <commit>: Move the current branch tip backward to <commit>, reset the staging area to match, but leave the
    working directory alone. All changes made since <commit> will reside in the working directory , which lets you re-commit
    the project history using cleaner, more atomic snapshots.
git branch -D <branch_name>: force delete branch
git branch --no-merged: list unmerged branches
git push [-f] remote local_branch[:remote_branch] : push local_branch to remote (into remote_branch) (-f with force push)
    ex: git push -f dokku UserPasswordRecovery:master

git rebase:
    git checkout experiment
    git rebase master
    (fix conflicts if exist and 'git rebase --continue')
    git checkout master
    git merge experiment

git tag -a v0.1.7 -m "... 0.1.7" : create tag
git tag -d v0.1.9 : delete tag


git branch -m newname : rename current branch

git remove file 'chrome_ext/dist/Memslate v0.1.7.zip' from history:

    git filter-branch --force --index-filter 'git rm --cached -r --ignore-unmatch "chrome_ext/dist/Memslate v0.1.7.zip"' --prune-empty --tag-name-filter cat -- --all
    rm -rf .git/refs/original/
    git reflog expire --expire=now --all
    git gc --prune=now
    git gc --aggressive --prune=now

#Digital Ocean


Install dokku:
    install dokku
    cat digocmemslate.pub | ssh root@memslate.com "cat >> ~/.ssh/authorized_keys"                           : automatic root login
    
    git remote add dokku dokku@memslate.com:memslate

Update SO:
    apt-get dist-upgrade
    sudo shutdown -r now

#DOKKU

Create and link DB:
    dokku postgres:create memslate
    dokku postgres:link memslate memslate

View logs:
    dokku logs memslate -t

Redirect subdomain:
    dokku domains:add memslate www.memslate.com

Redirect top domain:
     vi /etc/nginx/conf.d/dokku.conf
     add:
         server {
           server_name memslate.com;
           rewrite ^ http://www.memslate.com$request_uri? permanent;
         }
      /etc/init.d/nginx restart

dokku postgres:restart
dokku postgres:info memslate memslate : get db info (dokku postgresql:info memslate memslate)
dokku postgres:console:admin :  admin postgresql console
dokku ps:scale memslate setup=1 : start setup task
dokku postgres:expose memslate 5444: expose postgress at the specified port

#HEROKU

heroku auth:token

git push heroku master
    user: blank
    pwd: {auth token}

git push -f heroku master (after git commit --amend)

heroku ps:scale web=0
heroku ps:scale setup=1
heroku logs
heroku ps:scale setup=0
heroku ps:scale web=1


#IONIC

ionic run -> installs app on connected device

ionic resources -> regenerates logo and splash images

#ANDROID
adb wait-for-device : start usb debugging

#TESTING

##Unit tests

User karma.conf.js WebStorm configuration.

##Midway tests

User karmaMidwayTests.conf.js WebStorm configuration.

##E2E Protractor tests

Use Protractor Webstorm configuration or in console:

C:\Users\gerard\AppData\Roaming\npm\node_modules\protractor\lib\cli.js tests/protractorE2ETests.js --suite memo


#LINUX
find / -name 'pg_hba.conf' : Find file by name
/etc/init.d/nginx restart : restart nginx server
sudo apt-get install landscape-client :  conical landscape (NOT TO DO IT!!! breaks dokku)

#TYPESCRIPT
Download and install d.ts for angular:
- npm install -g tsd
- tsd init
- tsd query jquery --save --action install
- tsd query angular --save --action install
- Add reference to angular.d.ts inside .ts file: /// <reference path="../typings/angularjs/angular.d.ts" />
                     or better all defined d.ts: /// <reference path="../typings/tsd.d.ts" />