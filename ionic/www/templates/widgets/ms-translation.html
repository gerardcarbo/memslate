<div id="translation_{{::translation.id}}">
    <div class="null_translation_div center-text" ng-if="translation==null">
        <span class="text-muted"><br>Translated text</span>
    </div>
    <div class="translating_translation_div center-text" ng-if="parent.translating==true">
      <ion-spinner></ion-spinner>
    </div>

    <div class="translation_div" ng-if="translation && !parent.translating">
        <div ng-if="!translation.error">
            <div class="translation_def translation_yt" ng-if="translation.provider=='yt'">
                <span class='response_main'>{{::translation.translate}}</span>
                <button class="button button-clear button-positive button-medium ion-volume-medium" ng-click="msTranslationCtrl.playText(translation.translate, translation.fromLang)"></button>
                &nbsp;>&nbsp;
            <span>
                <span class='response_main' ng-repeat="text in translation.rawResult.text">{{::text}}
                    <button class="button button-clear button-positive button-medium ion-volume-medium" ng-click="msTranslationCtrl.playText(text, translation.toLang)"></button>
                    <span ng-show="!$last">, </span>
                </span>
            </span>
            </div>

            <div class="translation_def translation_yd" ng-if="translation.provider == 'yd'"
                 ng-repeat="def in translation.rawResult.def">
                <p>
                    <b>
                        <span class='response_main'>{{::def.text}}</span>
                        <span class='response_transcript' ng-show="def.ts"> [{{::def.ts}}] </span>
                        <button class="button button-clear button-positive button-medium ion-volume-medium" ng-click="msTranslationCtrl.playText(def.text, translation.fromLang)"></button>
                        &gt;
                        <span class='response_main'>{{::def.tr[0].text}}</span>
                        <button class="button button-clear button-positive button-medium ion-volume-medium" ng-click="msTranslationCtrl.playText(def.tr[0].text, translation.toLang)"></button>
                    </b>
                </p>

                <p ng-repeat="tr in def.tr">
                    <span class='response_type'>{{::tr.pos}}:</span>
                <span class='response_def'>{{::tr.text}}<span ng-repeat="syn in tr.syn">, {{::syn.text}}</span>
                </span>
                    <span class='response_mean' ng-show="tr.mean[0].text">({{::tr.mean[0].text}})</span>
                </p>
            </div>

            <div ng_if="translation" class="translation_samples">
                <div>
                    <p>
                        <b>samples &gt;</b>
                    </p>

                    <div class="padding-5 padding-bottom-min" style="clear: both;"
                         ng-repeat="sample in translation.samples">
                        <span class="sample_text">{{::sample.sample}}</span>
                        <button class="button button-assertive icon ion-minus-round float-right" id="btnDelSample{{::$index}}"
                                ng-click="msTranslationCtrl.deleteTranslationSample($index,sample);">
                            Delete
                        </button>
                    </div>
                    <div class="row">
                        <form class="full-width" ng-submit="msTranslationCtrl.saveTranslationSample();">
                            <div class="col item item-input">
                                <input ng-model="msTranslationCtrl.translationSample" type="text" id="sampleValue"
                                       placeholder="... with '{{::translation.translate}}'" class="form-control"
                                       required/>
                                <button id="btnAddSample" class="button button-energized button-stable btn-success icon ion-plus-round min-width-80">
                                    Add
                                </button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>

            <div ng-if="translation && msTranslationCtrl.isAuthenticated()" class="delete_translation_div">
                <button class="button icon ion-trash-b" id="btnDelTranslation"
                        ng-click="msTranslationCtrl.deleteTranslation(translation.id);"
                        class="btn btn-danger">&nbsp;Delete Translation
                </button>
            </div>
        </div>
        <div class="error_translation_div" ng-if="translation.error">
        </div>
    </div>
</div>

